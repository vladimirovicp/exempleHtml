<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Введение: колбэки</title>
</head>
<body>


    <div>1234</div>
    
    <div id="result"></div>

    <!-- <div id="parent">
        <p>1</p>
        <p>2</p>
        <p>3</p>
    </div> -->

    <script>

        // function loadScript(src) {
        //     let script = document.createElement('script');
        //     script.src = src;
        //     document.head.append(script);
        // }

        //loadScript('./my/script.js');

        let div = document.querySelector('#result')
        let p = document.createElement("p")
        p.innerHTML = 'Какой-то текст'
        div.append(p)
        // console.log(div.childNodes)

        //document.head.append(div);

        // console.log(document.body)

        // let parent = document.querySelector('#parent');

        // let p = document.createElement('p');
        // p.innerHTML = '!';

        // parent.append(p);


        // document.getElementById("result").textContent = '<div>555</div>';


        function loadScript(src, callback) {
            let script = document.createElement('script');
            script.src = src;

            script.onload = () => callback(script);

            document.head.append(script);
        }

        console.log('start');

        loadScript('./my/script.js', function() {
            // эта функция вызовется после того, как загрузится скрипт
            newFunction(); // теперь всё работает
        });


        console.log('end');

    </script>
    
</body>
</html>